<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Sports Unity{% endblock %}</title>

  <link rel="stylesheet" href="{% static 'css/maicons.css' %}">
  <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
  <link rel="stylesheet" href="{% static 'vendor/owl-carousel/css/owl.carousel.css' %}">
  <link rel="stylesheet" href="{% static 'vendor/animate/animate.css' %}">
  <link rel="stylesheet" href="{% static 'css/theme.css' %}">
  <link rel="stylesheet" href="{% static 'DataTables/datatables.min.css' %}">
  <link rel="stylesheet" href="{% static 'styles/design.css' %}">
  <link rel="stylesheet" href="{% static 'styles/utilities.css' %}">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,500|Open+Sans">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <!-- <link rel="stylesheet" href="{% static 'scripts/index.js' %}"> -->
</head>
<style>
      .card-event img {
            max-height: 200px;
            object-fit: cover;
        }
  .logo-container {
      display: flex;
      align-items: center;
  }
  .logo {
      width: 110px; /* Adjust the width as needed */
      height: auto;
      margin-right: 10px; /* Adjust the spacing between the logo and text */
  }
  .text-primary {
      color: blue; /* Adjust the color as needed */
  }
  .btn-login{
    background-color: #00d9a5;
   
  }


  
  
  .scrolling-matches {
            white-space: nowrap;
            overflow: hidden;
            box-sizing: border-box;
        }

        .scrolling-matches span {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 20s linear infinite;
        }

        @keyframes marquee {
            from {
                transform: translateX(100%);
            }
            to {
                transform: translateX(-100%);
            }
        }

            /* Center the heading */
            h1 {
            text-align: center;
            font-size: 2.5rem;
            font-weight: bold;
            color: #333;
            margin-top: 20px;
        }

        /* Marquee styling */
        marquee {
            font-size: 1.5rem;
            font-weight: bold;
            color: #000;
            background-color: #f8f9fa;
            padding: 10px;
         
        }

        /* Blink and color animation for match results */
        @keyframes blink {
            0% { color: red; }
            25% { color: blue; }
            50% { color: green; }
            75% { color: orange; }
            100% { color: red; }
        }

        /* Apply the blink animation */
        .blinking-text {
            animation: blink 2s infinite;
        }
        .btn-color{
   
   background-color: #00d9a5;
 }
 .button-container {
  display: flex;
  justify-content: center; /* Center the button horizontally */
}

.btn {
  margin-top: 20px; /* Add some space above the button */
}

.video-section {
  position: relative;
  height: 100vh; /* Full viewport height */
  overflow: hidden; /* Prevent content overflow */
}

.background-video {
  position: absolute; /* Position the video absolutely */
  top: 50%; /* Center it vertically */
  left: 50%; /* Center it horizontally */
  min-width: 100%; /* Ensure it covers the section */
  min-height: 100%; /* Ensure it covers the section */
  width: auto; /* Maintain aspect ratio */
  height: auto; /* Maintain aspect ratio */
  z-index: -1; /* Place it behind content */
  transform: translate(-50%, -50%); /* Center the video */
  object-fit: cover; /* Cover the section without distortion */
}

.content {
  position: relative;
  z-index: 1; /* Content above the video */
  color: white; /* Text color for better visibility */
  text-align: center; /* Center align text */
  top: 50%; /* Position content in the middle */
  transform: translateY(-50%); /* Center the content vertically */
}

body, html {
  margin: 0;
  padding: 0;
  height: 100%; /* Ensure full height */
}


.gray-bg {
    background-image: url("../images/gm1.jpg");
	background-attachment: fixed;
	/* background: linear-gradient(to right, #3e0f3d 0%, #1c0f3b 100%); */
    background-repeat: no-repeat;
	background-size: cover;
    width: auto;
	background-position:top center;
}

.sp-bg{
  color: white;
}

  /* Sponsor card container for layout */
  .sponsor-card-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
        }
        /* Fixed size for each sponsor card */
        .sponsor-card {
            width: 250px;
            height: 350px;
            overflow: hidden;
        }
        /* Scale down image to fit without cropping */
        .sponsor-card-img {
            width: 100%;
            height: 150px;
            object-fit: contain;
        }
        /* Text styling within the sponsor card */
        .sponsor-card-title, .sponsor-card-text {
            font-size: 0.9em;
        }


        /* Apply a green underline on hover */
.nav-link:hover {
    color: #00D9A5; /* Optional: Change the color on hover */
    text-decoration: underline;
    text-decoration-color: #00D9A5;
    text-underline-offset: 4px; /* Adjust underline position */
    
}

/* Active menu item styling */
.nav-item.active .nav-link {
    color: #00D9A5;
}



.result_card {
            width: 100%;
            border: none;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }
        .result_card:hover {
            transform: scale(1.05);
        }
        .result_card-body {
            text-align: center;
            padding: 20px;
        }
        .result_card-title {
            font-size: 1.25rem;
            font-weight: bold;
            color: #333;
        }
        .result_card-text {
            font-size: 0.9rem;
            color: #666;
        }
        .result_carousel-nav {
            color: #333;
        }


        
       /* Simple dropdown styling */
       .dropdown {
            position: relative;
            display: inline-block;
        }
     
        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }
      
        .dropdown:hover .dropdown-content {
            display: block;
        }
        
        .dropdown-content {
      display: none;
      position: absolute;
      background-color: #f9f9f9;
      min-width: 200px;
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
      z-index: 10; /* Ensure dropdown appears on top */
  }

  .dropdown:hover .dropdown-content {
      display: block;
  }

  .page-hero {
      position: relative; /* Ensure the hero section doesn't interfere with the dropdown */
      z-index: 1; /* Lower than dropdown */
  }


  .notification-icon {
    position: relative; /* Establish a containing block for the dropdown content */
    text-decoration: none;
    color: #000;
    font-size: 24px; /* Size of the bell icon */
    position: relative;
}



.notification-icon .badge {
    position: absolute;
    top: -5px;
    right: -10px;
    background-color: red;
    color: white;
    padding: 4px 8px;
    border-radius: 50%;
    font-size: 12px;
    font-weight: bold;
    line-height: 1;
}

.dropdown-content {
    display: none;
    position: absolute;
    top: 30px; /* Adjust to position the dropdown below the bell icon */
    left: 50%; /* Start at the center */
    transform: translateX(-50%); /* Shift left by half the width to center */
    background-color: #f9f9f9;
    min-width: 200px;
    box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
    z-index: 10;
    border-radius: 5px;
}

.dropdown:hover .dropdown-content {
    display: block;
}

.notification-item {
    display: block;
    padding: 10px 15px;
    color: #000;
    text-decoration: none;
    transition: background-color 0.3s, color 0.3s;
}

.notification-item:hover {
    background-color: #c2c5c98c;
    color: #080808;
}




.graph-section {
    display: flex; /* Arrange items in a row */
    flex-wrap: wrap; /* Allow wrapping if the screen is narrow */
    justify-content: space-around; /* Distribute space evenly */
    gap: 20px; /* Add space between graphs */
    margin: 20px auto;
}

.graph-section canvas {
    max-width: 300px; /* Set maximum width for graphs */
    max-height: 300px; /* Set maximum height for graphs */
    width: 100%; /* Allow responsiveness */
    height: auto; /* Maintain aspect ratio */
    border: 1px solid #ccc; /* Optional: Add border for clarity */
    border-radius: 10px; /* Optional: Add rounded corners */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Optional: Add a shadow for styling */
}

@media (max-width: 768px) {
    .graph-section canvas {
        max-width: 200px; /* Reduce size on smaller screens */
        max-height: 200px;
    }
}



</style>
<body>
  
  <div class="back-to-top"></div>


 <nav class="navbar navbar-expand-lg navbar-light shadow-sm">
   <div class="container">
 
    <div class="logo-container">
      <img src="{% static 'img/logo2.png' %}" alt="Logo" class="logo">
      <span class="text-primary"></span>
  </div>
 
 
     <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupport" aria-controls="navbarSupport" aria-expanded="false" aria-label="Toggle navigation">
       <span class="navbar-toggler-icon"></span>
     </button>
 
     <div class="collapse navbar-collapse" id="navbarSupport">
       <ul class="navbar-nav ml-auto">
           <li class="nav-item active">
               <a class="nav-link" href="{% url 'home' %}">Home</a>
           </li>
           <li class="nav-item">
               <a class="nav-link" href="{% url 'about' %}">About Us</a>
           </li>
           <!-- <li class="nav-item">
               <a class="nav-link" href="{% url 'university_registration' %}">university</a>
           </li>
           <li class="nav-item">
            <a class="nav-link" href="{% url 'event_calendar' %}">Schedule</a> 
        </li> -->
        <li class="nav-item">
          <a class="nav-link" href="{% url 'player_list' %}">players</a> 
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'notice_list' %}">Notices</a>       
    </li>
           <li class="nav-item">
             <a class="nav-link" href="{% url 'event_list' %}">Events</a>
         </li>
         <li class="nav-item">
          <a class="nav-link" href="{% url 'results' %}">Results</a>
      </li>
         <li class="nav-item">
          <a class="nav-link" href="{% url 'tournament_standings' %}">Tournament</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'stall_list' %}">Stalls</a>
    </li>
  


  <div class="dropdown">
    <a href="#" class="notification-icon">
        <i class="fa fa-bell"></i>
        {% if notification_count > 0 %}
            <span class="badge">{{ notification_count }}</span>
        {% endif %}
    </a>
    <div class="dropdown-content">
        {% if unread_notifications %}
            {% for notification in unread_notifications %}
                <a href="{% url 'mark_as_read' notification.id %}" class="notification-item">
                    
                    {% if notification.event %}  <strong>Event:</strong>  {{ notification.event.title }} {% endif %}
                    {% if notification.match %}  <strong>Match:</strong> {{ notification.match.team1.name }} vs {{ notification.match.team2.name }} {% endif %}
                    {% if notification.notice %}  <strong>Notice:</strong> {{ notification.notice.title }} {% endif %}
                    {% if notification.result %}  <strong>Result:</strong> {{ notification.result.match }} {% endif %}
                    <!-- Add other conditions for match, notice, etc. -->
                </a>
            {% endfor %}
        {% else %}
            <a href="#" class="notification-item">No new notifications</a>
        {% endif %}
    </div>
</div>

  
         <!-- If the user is not logged in, display the login button -->
         <li class="nav-item">
            {% if user.is_authenticated %}
              <!-- <a class="nav-link" href="{% url 'user_dashboard' %}">
                <img src="{% static 'img/user-icon.png' %}" alt="User Icon" class="user-icon"> {{ user.username }}
              </a>  -->
              <a class="nav-link" href="{% url 'user_dashboard' %}">
                <i class="fas fa-user-circle"></i> {{ user.username }}
              </a>
            <li  class="nav-item">
              <a class="btn btn-login ml-lg-3" href="{% url 'logout' %}" style="
     margin-top: -5px;">Logout</a>
            </li>
            {% else %}
              <a class="btn btn-primary ml-lg-3" href="{% url 'user_login' %}" style="margin-top: -5px;">Login / Register</a>
            {% endif %}
          </li>
     
      
 
       </ul>
   </div> <!-- .navbar-collapse -->
   
   </div> <!-- .container -->
 </nav>
   


 <div class="page-hero bg-image overlay-dark" style="background-image: url('{% static 'img/img2.jpg' %}');">
    <div class="hero-section">
      <div class="container text-center wow zoomIn">
        <span class="subhead">Let's make your life happier with</span>
        <h1 class="display-4 sp-bg">Sports Unity</h1>
        <a href="#" class="btn btn-primary">Let's Match</a>
      </div>
    </div>
  </div>


  <div class="bg-light">
    <div class="page-section py-3 mt-md-n5 custom-index">
      <div class="container-flud">
        <div class="row justify-content-center">
          
          
          
        </div>
      </div>
    </div> <!-- .page-section -->
<!-- 
    <div class="page-section pb-0">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6 py-3 wow fadeInUp">
            <h1>Welcome to Sports Unity <br> Center</h1>
            <p class="text-grey mb-4">Welcome to Sports Unity! At our institution, we believe in fostering a vibrant and engaging campus community through a diverse range of events and activities. Whether you're a student, faculty member, staff member, or visitor, there's something here for everyone.</p>
            <a href="#" class="btn btn-primary">Learn More</a>
          </div>
          <div class="col-lg-6 wow fadeInRight" data-wow-delay="400ms">
            <div class="img-place custom-img-1">
              <img src="{% static 'img/banner-sport.png' %}" alt="" style="width: 100%; height: auto;">

             

            </div>
          </div>
        </div>
      </div>
    </div> 
  </div>  -->

  <div class="page-section pb-0">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 py-3 wow fadeInUp">
          <h1>Welcome to Sports Unity</h1>
          <p class="text-grey mb-4">Welcome to Sports Unity! At our institution, we believe in fostering a vibrant and engaging campus community through a diverse range of events and activities. Whether you're a student, faculty member, staff member, or visitor, there's something here for everyone.</p>
  
          <!-- Centered Button -->
          <div class="button-container">
            <a href="#" class="btn btn-primary">Learn More</a>
          </div>
        </div>
        <div class="col-lg-6 wow fadeInRight" data-wow-delay="400ms">
          <div class="img-place">
            <img src="{% static 'img/banner-sport.png' %}" alt="" style="width: 100%; height: auto;">
          </div>
        </div>
      </div>
    </div>
  </div> <!-- .bg-light -->
  </div>
  
  <!-- Centered heading -->


  <h1>Latest Matches</h1>

  <!-- Marquee for scrolling matches with bold and blinking effect -->
  <marquee behavior="scroll" direction="left" scrollamount="6">
      {% for match in matches %}
          <span class="blinking-text">{{ match.team1.name }} {{ match.team1_score }} - {{ match.team2_score }} {{ match.team2.name }} ({{ match.date|date:"d M, Y H:i" }})</span> &nbsp;&nbsp; | &nbsp;&nbsp;
      {% endfor %}
  </marquee>

 

  <div class="container my-5">
    <h1 class="text-center mb-5">Latest Events</h1>

    <div class="row">
        {% for event in latest_events %}
        <div class="col-md-4 mb-4">
            <div class="card card-event">
                <!-- Display the event image -->
                {% if event.image %}
                    <img src="{{ event.image.url }}" class="card-img-top" alt="{{ event.title }}">
                {% else %}
                    <img src="{% static 'img/default_event.jpg' %}" class="card-img-top" alt="No image available">
                {% endif %}

                <div class="card-body">
                    <h5 class="card-title">{{ event.title }}</h5>
                    <p class="card-text">{{ event.description|truncatewords:20 }}</p>
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <strong>Date:</strong> {{ event.start_time|date:"F j, Y, g:i a" }} 
                        to {{ event.end_time|date:"F j, Y, g:i a" }}
                    </li>
                    <li class="list-group-item"><strong>Venue:</strong> {{ event.venue }}</li>
                </ul>
                {% if user.is_authenticated %}
                    <a href="{% url 'book_event' event.id %}" class="btn btn-primary">Book Event</a>
                {% else %}
                    <a href="{% url 'user_login' %}?next={% url 'book_event' event.id %}" class="btn btn-color">Login to Book Event</a>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- If no latest events are available -->
    {% if not latest_events %}
        <p>No events are available at the moment.</p>
    {% endif %}
</div>

 <!-- Graph section  -->

 
  
 <div class="graph-section">
  <!-- Each graph container -->
  <canvas id="universitiesChart"></canvas>
  <canvas id="playersChart"></canvas>
  <canvas id="eventsChart"></canvas>
  <canvas id="matchesChart"></canvas>
  <canvas id="nextMatchChart"></canvas>
</div>


 <!-- Background Video -->
<div class="video-section ">
  <video autoplay muted loop class="background-video">
    <source src="{% static 'video/promovideo.mp4' %}" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</div>
 
<div class="container mt-5">
  <h2 class="text-center mb-4">Latest Match Results</h2>
  <div class="owl-carousel owl-theme">
      {% for result in results %}
      <div class="item">
          <div class="result_card">
              <div class="result_card-body">
                  <h5 class="result_card-title">{{ result.university.name }}</h5>
                  <p class="result_card-text"><strong>Match:</strong> {{ result.match.team1.name }} vs {{ result.match.team2.name }}</p>
                  <p class="result_card-text"><strong>Wining Team:</strong> {{ result.team.name }}</p>
                  <p class="result_card-text"><strong>Result Date:</strong> {{ result.result_date|date:"F j, Y, g:i a" }}</p>
                  {% if result.description %}
                      <p class="result_card-text"><strong>Description:</strong>{{ result.description }}</p>
                  {% endif %}
              </div>
          </div>
      </div>
      {% endfor %}
  </div>


</div>
 
  <div class="page-section">
    <div class="container">
      <h1 class="text-center wow fadeInUp">Sponsorship</h1>
      <div class="marquee">
      
<!-- Marquee for scrolling sponsors with logo and title -->
<marquee behavior="scroll" direction="left" scrollamount="6">
  {% for sponsor in sponsors %}
      <span>
          <img src="{{ sponsor.logo.url }}" alt="{{ sponsor.name }}" style="height: 30px; vertical-align: middle;">
          <strong>{{ sponsor.name }}</strong>
      </span>
      &nbsp;&nbsp;&nbsp; <!-- Space between sponsors -->
  {% endfor %}
</marquee>



<div class="container my-4">
  <div class="sponsor-card-container">
      {% for sponsors_card in sponsors_card %}
          <div class="sponsor-card card">
              <img src="{{ sponsors_card.logo.url }}" class="sponsor-card-img card-img-top" alt="{{ sponsors_card.name }}">
              <div class="card-body">
                <h5 class="sponsor-card-title card-title" style="font-weight: bold;">{{ sponsors_card.name }}</h5>
                  <p class="sponsor-card-text card-text">{{ sponsors_card.description|truncatewords:15 }}</p>
                  <!-- <p class="sponsor-card-text card-text"><strong>Contact:</strong> {{ sponsors_card.contact_info }}</p>
                  <p class="sponsor-card-text card-text"><strong>Amount:</strong> ${{ sponsors_card.sponsorship_amount }}</p> -->
              </div>
          </div>
      {% endfor %}
  </div>
</div>









      <!-- <form class="main-form">
        <div class="row mt-5 ">
          <div class="col-12 col-sm-6 py-2 wow fadeInLeft">
            <input type="text" class="form-control" placeholder="Full name">
          </div>
          <div class="col-12 col-sm-6 py-2 wow fadeInRight">
            <input type="text" class="form-control" placeholder="Email address..">
          </div>
          <div class="col-12 col-sm-6 py-2 wow fadeInLeft" data-wow-delay="300ms">
            <input type="date" class="form-control">
          </div>
          <div class="col-12 col-sm-6 py-2 wow fadeInRight" data-wow-delay="300ms">
            
          </div>
          <div class="col-12 py-2 wow fadeInUp" data-wow-delay="300ms">
            <input type="text" class="form-control" placeholder="Number..">
          </div>
          <div class="col-12 py-2 wow fadeInUp" data-wow-delay="300ms">
            <textarea name="message" id="message" class="form-control" rows="6" placeholder="Enter message.."></textarea>
          </div>
        </div>

        <button type="submit" class="btn btn-primary mt-3 wow zoomIn">Submit Request</button>
      </form> -->
    </div>
  </div> <!-- .page-section -->
  
    <div class="page-section banner-home bg-image" style="background-image: url({% static 'img/banner.png' %});">
  
    <div class="container py-5 py-lg-0">
      <div class="row align-items-center">
        <div class="col-lg-4 wow zoomIn">
          <div class="img-banner d-none d-lg-block">
            <img src="{% static 'img/mblpng.png' %}" alt="">
          </div>
        </div>
        <div class="col-lg-8 wow fadeInRight">
          <h1 class="font-weight-normal mb-3">Get easy access of all features using Sports Unity Web App</h1>

      </div>
      </div>
    </div>
  </div> <!-- .banner-home -->

  <footer class="page-footer">
    <div class="container">
      <div class="row px-md-3">
        <div class="col-sm-6 col-lg-3 py-3">
          <h5>Company</h5>
          <ul class="footer-menu">
            <li><a href="#">About Us</a></li>
            <li><a href="#">Career</a></li>
            <li><a href="#">Editorial Team</a></li>
            <li><a href="#">Protection</a></li>
          </ul>
        </div>
        <div class="col-sm-6 col-lg-3 py-3">
          <h5>More</h5>
          <ul class="footer-menu">
            <li><a href="#">Terms & Condition</a></li>
            <li><a href="#">Privacy</a></li>
            <li><a href="#">Advertise</a></li>
          
          </ul>
        </div>
        <div class="col-sm-6 col-lg-3 py-3">
          <h5>Our partner</h5>
          <ul class="footer-menu">
            <li><a href="#">Lahore University</a></li>
            <li><a href="#">ISB university</a></li>
            <li><a href="#">Riffha university</a></li>
          </ul>
        </div>
        <div class="col-sm-6 col-lg-3 py-3">
          <h5>Contact</h5>
          <p class="footer-link mt-2">Lahore</p>
          <a href="#" class="footer-link">0300-12345678</a>
          <a href="#" class="footer-link">saad@gmail.com</a>

          <h5 class="mt-3">Social Media</h5>
          <div class="footer-sosmed mt-3">
            <a href="#" target="_blank"><span class="mai-logo-facebook-f"></span></a>
            <a href="#" target="_blank"><span class="mai-logo-twitter"></span></a>
            <a href="#" target="_blank"><span class="mai-logo-google-plus-g"></span></a>
            <a href="#" target="_blank"><span class="mai-logo-instagram"></span></a>
            <a href="#" target="_blank"><span class="mai-logo-linkedin"></span></a>
          </div>
        </div>
      </div>

      <hr>

      <p id="copyright">Copyright &copy; 2024 <a href="" target="_blank"></a>. All right reserved</p>
    </div>
  </footer>

  <!-- Include your scripts at the end of the body tag -->
  <script src="{% static 'js/jquery-3.5.1.min.js' %}"></script>
  <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'vendor/owl-carousel/js/owl.carousel.min.js' %}"></script>
  <script src="{% static 'vendor/wow/wow.min.js' %}"></script>
  <script src="{% static 'js/theme.js' %}"></script>
  <script src="{% static 'DataTables/datatables.min.js' %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="{% static 'js/graphs.js' %}"></script>
  <script>
    $(document).ready(function(){
        $(".owl-carousel").owlCarousel({
            loop: true,
            margin: 20,
            nav: true,
            navText: ["<span class='carousel-nav'>&#9664;</span>", "<span class='carousel-nav'>&#9654;</span>"],
            autoplay: true,
            autoplayTimeout: 3000,
            autoplayHoverPause: true,
            responsive: {
                0: {
                    items: 1
                },
                600: {
                    items: 2
                },
                1000: {
                    items: 3
                }
            }
        });
    });

    // Show More Results function
    function showMoreResults() {
        document.getElementById("extraResults").style.display = "flex";
        document.getElementById("showMoreBtn").style.display = "none";
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
<script>
  
  // Fetch data from the template
  // Fetch data from the template
  const universities = {{ total_universities }};
  const players = {{ total_players }};
  const events = {{ total_events }};
  const eventsThisMonth = {{ events_this_month }};
  const matches = {{ total_matches }};
  const nextMatch = "{{ next_match_display }}"; // Use the pre-processed value here
    // Dynamic data passed from the backend
    const universityNames = {{ university_names|safe }}; // List of university names
    const universityCounts = {{ university_counts|safe }}; // List of counts for each university

    // Function to generate random colors
    function generateColors(length) {
        const colors = [];
        for (let i = 0; i < length; i++) {
            const randomColor = `#${Math.floor(Math.random() * 16777215).toString(16)}`;
            colors.push(randomColor);
        }
        return colors;
    }


  // Register the plugin
Chart.register(ChartDataLabels);

// Chart options for all charts
const chartOptions = {
    plugins: {
        datalabels: {
            color: '#ffffff', // White color for numbers
            font: {
                size: 14,
                weight: 'bold',
            },
            formatter: (value) => value, // Show the raw value as the label
            anchor: 'end', // Positioning
            align: 'start',
        },
        legend: {
            position: 'top', // Legend at the top
        },
        tooltip: {
            enabled: true, // Enable tooltips for better interactivity
        },
    },
    animation: {
        duration: 1500, // Animation duration
    },
};

    // Generate unique colors for universities
    const universityColors = generateColors(universityNames.length);

    // Total Universities Chart - Pie Chart
    new Chart(document.getElementById('universitiesChart'), {
        type: 'pie',
        data: {
            labels: universityNames, // Use university names as labels
            datasets: [{
                data: universityCounts, // Use counts for each university
                backgroundColor: universityColors, // Assign colors dynamically
                hoverBackgroundColor: universityColors.map(color => color), // Same color on hover
            }],
        },
        options: {
            plugins: {
                legend: {
                    position: 'top',
                },
                tooltip: {
                    callbacks: {
                        label: function (context) {
                            const label = context.label || '';
                            const value = context.raw || 0;
                            return `${label}: ${value}`;
                        },
                    },
                },
            },
            animation: {
                duration: 1000,
            },
        },
    });

// Total Players Chart - Horizontal Bar
new Chart(document.getElementById('playersChart'), {
    type: 'bar',
    data: {
        labels: ['Total Players'],
        datasets: [{
            data: [players],
            backgroundColor: ['#FF6384'],
            hoverBackgroundColor: ['#FF4561'],
        }],
    },
    options: {
        indexAxis: 'y', // Horizontal bar
        plugins: {
            legend: {
                display: false, // Hide legend for clarity
            },
            datalabels: {
                color: '#fff',
                font: {
                    size: 14,
                },
                anchor: 'center',
                align: 'center',
            },
        },
        scales: {
            x: {
                ticks: { stepSize: 1 },
            },
        },
        animation: {
            duration: 1000,
        },
    },
});

// Total Events Chart - Pie
new Chart(document.getElementById('eventsChart'), {
    type: 'doughnut',
    data: {
        labels: ['Total Events'],
        datasets: [{
            data: [events],
            backgroundColor: ['#FFCE56'],
            hoverBackgroundColor: ['#FFC107'],
        }],
    },
    options: {
        plugins: {
            legend: {
                position: 'top',
            },
            tooltip: {
                enabled: true,
            },
            datalabels: {
                color: '#fff',
                font: {
                    size: 14,
                },
                formatter: (value) => value,
            },
        },
        cutout: '70%', // Creates the doughnut effect
        animation: {
            duration: 1000,
        },
    },
});


// Events This Month Chart - Stacked Bar
new Chart(document.getElementById('eventsThisMonthChart'), {
    type: 'bar',
    data: {
        labels: ['Events This Month'],
        datasets: [{
            label: 'Total Events',
            data: [eventsThisMonth],
            backgroundColor: ['#4BC0C0'],
            hoverBackgroundColor: ['#36B2B2'],
        }],
    },
    options: {
        plugins: {
            legend: {
                position: 'top',
            },
            datalabels: {
                color: '#fff',
                font: {
                    size: 14,
                },
                formatter: (value) => value,
            },
        },
        scales: {
            x: {
                stacked: true,
            },
            y: {
                stacked: true,
                ticks: {
                    stepSize: 1,
                },
            },
        },
        animation: {
            duration: 1000,
        },
    },
});

// Total Matches Chart - Polar Area
new Chart(document.getElementById('matchesChart'), {
    type: 'polarArea',
    data: {
        labels: ['Total Matches'],
        datasets: [{
            data: [matches],
            backgroundColor: ['#9966FF'],
            hoverBackgroundColor: ['#7B4FA4'],
        }],
    },
    options: {
        plugins: {
            legend: {
                position: 'top',
            },
            datalabels: {
                color: '#fff',
                font: {
                    size: 14,
                },
                formatter: (value) => value,
            },
        },
        animation: {
            duration: 1000,
        },
    },
});

// Next Match Chart - Horizontal Bar
new Chart(document.getElementById('nextMatchChart'), {
    type: 'bar',
    data: {
        labels: ['Next Match'],
        datasets: [{
            label: nextMatch === 'No upcoming match' ? 'No Match' : 'Upcoming Match',
            data: [1], // Use a constant for bar representation
            backgroundColor: [nextMatch === 'No upcoming match' ? '#FF9F40' : '#36A2EB'],
            hoverBackgroundColor: [nextMatch === 'No upcoming match' ? '#E96A00' : '#2196F3'],
        }],
    },
    options: {
        indexAxis: 'y', // Horizontal bar
        plugins: {
            legend: {
                position: 'top',
            },
            tooltip: {
                enabled: true,
            },
            datalabels: {
                color: '#fff',
                font: {
                    size: 14,
                },
                formatter: () => nextMatch,
            },
        },
        scales: {
            x: {
                ticks: { stepSize: 1 },
            },
        },
        animation: {
            duration: 1000,
        },
    },
});


console.log("Universities:", universities);
console.log("Players:", players);
console.log("Events:", events);
console.log("Events This Month:", eventsThisMonth);
console.log("Matches:", matches);
console.log("Next Match:", nextMatch);

</script>
</body>
</html>
